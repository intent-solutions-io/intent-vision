# WORK TRACKING STANDARD: Beads + Task IDs + AAR Cross-Referencing

**Document ID:** 6767-f
**Purpose:** Define how Beads task IDs integrate with doc filing, commits, and AARs
**Status:** Production Standard
**Last Updated:** 2025-12-15
**Applies To:** All Intent Solutions repositories

---

## Overview

This standard establishes **Task IDs** as the canonical unit of work across all Intent Solutions projects. Task IDs bridge:
- **Beads** (work graph / dependency tracker)
- **AARs** (phase completion evidence)
- **Commits** (code/doc changes)
- **PRs** (code review units)

**Core Principle:** Every piece of work is traceable from inception to completion through Task IDs.

---

## 1. Task ID as the Canonical Work Unit

### 1.1 What is a Task ID?

A Task ID is a unique identifier for a discrete unit of work. In Intent Solutions projects:
- Task IDs are generated by **Beads** (format: `bd-<hash>`)
- Before Beads is initialized, use logical task references (format: `TASK-<description>`)

### 1.2 Task ID Format

| Phase | Format | Example |
|-------|--------|---------|
| Pre-Beads | `TASK-<short-description>` | `TASK-import-standards` |
| Post-Beads | `bd-<hash>` | `bd-a1b2`, `bd-f14c3` |

### 1.3 Task Granularity

A task should be:
- **Completable in one session** (hours, not days)
- **Independently verifiable** (clear done criteria)
- **Single-purpose** (one logical change)

**Too big:** "Implement authentication" â†’ Break into subtasks
**Too small:** "Fix typo in line 42" â†’ Combine with related changes
**Just right:** "Implement login form validation"

---

## 2. Task IDs in AARs

Every AAR MUST include the **Beads / Task IDs Touched** section.

### 2.1 Required AAR Section

```markdown
## Beads / Task IDs Touched

| Task ID | Status | Title |
|---------|--------|-------|
| `bd-a1b2` | `completed` | Import 6767 standards |
| `bd-c3d4` | `completed` | Create AAR template |
| `bd-e5f6` | `blocked` | CI gate implementation |

**Beads Status:** `Active` / `Not yet initialized` / `N/A (docs-only phase)`
```

### 2.2 Status Values

| Status | Meaning |
|--------|---------|
| `completed` | Task finished in this phase |
| `in_progress` | Task started but not finished |
| `blocked` | Task cannot proceed (note blocker) |
| `discovered` | New task identified during phase |
| `deferred` | Task moved to future phase |

### 2.3 Pre-Beads Convention

Before Beads is initialized, use logical task descriptions:

```markdown
## Beads / Task IDs Touched

| Task ID | Status | Title |
|---------|--------|-------|
| `TASK-import-standards` | `completed` | Import 6767 filing + AAR templates |
| `TASK-create-sop` | `completed` | Create project start SOP |
| `TASK-phase0-aar` | `completed` | Write Phase 0 AAR |

**Beads Status:** `Not yet initialized`
```

---

## 3. Task IDs in Commit Messages

Every commit MUST reference its primary Task ID.

### 3.1 Commit Message Format

```
<type>: <description>

[Task: <task-id>]
<optional body>

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>
```

### 3.2 Examples

**Single task:**
```
docs: import 6767 filing standard

[Task: bd-a1b2]
Imported document filing system standard v4.2 from canonical source.

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)
```

**Multiple tasks (rare, avoid if possible):**
```
docs: add SOP and spec pack templates

[Tasks: bd-c3d4, bd-e5f6]
- Created project start SOP (bd-c3d4)
- Created spec pack template (bd-e5f6)

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)
```

**Pre-Beads:**
```
docs: import 6767 filing standard

[Task: TASK-import-standards]
Imported document filing system standard v4.2.

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)
```

---

## 4. Task IDs in PRs (Future Phases)

When PRs are used (Phase 1+), they must reference Task IDs.

### 4.1 PR Title Format

```
[<task-id>] <description>
```

Example: `[bd-a1b2] Import 6767 filing standard`

### 4.2 PR Description Template

```markdown
## Task Reference
**Primary Task:** `bd-a1b2`
**Related Tasks:** `bd-c3d4`, `bd-e5f6` (if any)

## Summary
<what this PR does>

## Changes
- <change 1>
- <change 2>

## Verification
<how to test>
```

---

## 5. Beads Usage Conventions

### 5.1 Dependency Graph Expectations

Every task should have:
- **Parent or Phase tag:** No orphan tasks
- **Dependencies declared:** What blocks this task?
- **Dependents aware:** What does this task block?

```bash
# Create task with parent
bd create "Implement login form" --parent bd-auth-epic

# Add dependency
bd dep add bd-login-form bd-api-endpoint --type blocks
```

### 5.2 Status Conventions

| Beads Status | When to Use |
|--------------|-------------|
| `open` | Task created, not started |
| `in_progress` | Actively being worked |
| `blocked` | Waiting on dependency |
| `review` | Work done, awaiting verification |
| `closed` | Completed and verified |

### 5.3 Definition of Done (Per Task)

A task is "done" when:
1. Work is complete (code written, docs created, etc.)
2. Verification steps pass
3. Commit(s) reference the task ID
4. Task status updated in Beads
5. AAR includes the task in "Task IDs Touched"

---

## 6. Cross-Reference Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    WORK TRACKING FLOW                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. TASK CREATED                                                â”‚
â”‚     â””â”€â–¶ Beads: bd create "task title"                          â”‚
â”‚         â””â”€â–¶ Task ID generated: bd-a1b2                         â”‚
â”‚                                                                 â”‚
â”‚  2. WORK PERFORMED                                              â”‚
â”‚     â””â”€â–¶ Update status: bd update bd-a1b2 --status in_progress  â”‚
â”‚                                                                 â”‚
â”‚  3. COMMIT MADE                                                 â”‚
â”‚     â””â”€â–¶ Commit message includes: [Task: bd-a1b2]               â”‚
â”‚                                                                 â”‚
â”‚  4. PHASE COMPLETED                                             â”‚
â”‚     â””â”€â–¶ AAR written with "Beads / Task IDs Touched" section    â”‚
â”‚         â””â”€â–¶ bd-a1b2 listed with status: completed              â”‚
â”‚                                                                 â”‚
â”‚  5. TASK CLOSED                                                 â”‚
â”‚     â””â”€â–¶ Beads: bd close bd-a1b2 --reason "Completed in AAR-003"â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. Evidence Requirements

### 7.1 What Counts as Evidence?

| Evidence Type | Where Captured |
|---------------|----------------|
| Commit hashes | AAR "Evidence Links" section |
| File paths | AAR "Files Created/Modified" |
| Task ID status | AAR "Beads / Task IDs Touched" |
| Verification output | AAR "How to Verify" |
| AgentFS snapshots | AAR "AgentFS Snapshots" |

### 7.2 Minimum Evidence Per Phase

Every phase AAR must include:
- [ ] List of all task IDs touched
- [ ] Status of each task ID
- [ ] At least one commit hash
- [ ] File list with actions (created/modified)
- [ ] Verification steps that can be run

---

## 8. Template Repo Context

In the `project-template` repository (this docs-only seed):
- Beads is **referenced but not initialized**
- Use `TASK-<description>` format for logical tasks
- Full Beads initialization happens in Phase 1 of project repos

### 8.1 Transition Plan

| Phase | Task ID Format | Beads Status |
|-------|----------------|--------------|
| Template Phase 0 | `TASK-xxx` | Not initialized |
| Project Phase 0 | `TASK-xxx` | Not initialized |
| Project Phase 1+ | `bd-xxxx` | Initialized |

When transitioning from `TASK-xxx` to `bd-xxxx`:
1. Create corresponding Beads tasks
2. Update AAR to show mapping
3. Close `TASK-xxx` references

---

## 9. Quick Reference

### Commit Message Cheatsheet

```bash
# With Beads
git commit -m "docs: add spec pack template

[Task: bd-a1b2]

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>"

# Pre-Beads
git commit -m "docs: add spec pack template

[Task: TASK-create-spec-pack]

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>"
```

### AAR Section Cheatsheet

```markdown
## Beads / Task IDs Touched

| Task ID | Status | Title |
|---------|--------|-------|
| `TASK-xxx` or `bd-xxxx` | `completed` | `<title>` |

**Beads Status:** `Not yet initialized` / `Active`
```

---

## References

- 6767-a: Document Filing System Standard
- 6767-b: AAR Template (with Beads sections)
- 6767-g: Beads + AgentFS Complementary Systems
- Beads: https://github.com/steveyegge/beads

---

**WORK TRACKING STANDARD â€” Intent Solutions**
*Every task is traceable. No orphan work.*
